################################################################################
# Euler 527 - Randomized Binary Search
# Kelvin Blaser      2015.10.02
#
# 
################################################################################
from scipy import log

def B(n):
    k = int(log(n+1)/log(2))
    return (1.0 + (k+1.0)*(n+1.0) - 2**(k+1))/n

def H(n):
    gamma = 0.57721566490153286060651209008240243104215933593992
    return gamma + log(n) + 0.5/n - 1./(12*n**2) + 1./(120*n**4)

def R(n):
    return 2*H(n) * (n+1)/ n - 3.0

if __name__ == '__main__':
    print R(10**10) - B(10**10)


        
